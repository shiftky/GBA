# [K-13] 情報システム実験 : 組み込みオペレーティングシステム

## 何をするプログラムか
ブロックをラケットで打ったボールで消していく、シンプルなブロック崩しゲームを行うプログラム。

プログラムは下記の環境で動作確認しています。
* Nintendo GAME BOY ADVANCE
* [VisualBoyAdvance v1.7.6 (Mac)](http://sourceforge.net/projects/macboyadvance/)

## ビルド・実行方法
プログラムのビルドには ARM プロセッサ向けの GCC が必要です。
Mac OS X での環境構築はこちらのページを参照してください。

[[K-13] 情報システム実験 : 組み込みオペレーティングシステム 環境構築](https://gist.github.com/shiftky/11205081)

```
$ make
$ make trans    # optusb を使用し GBA 実機に転送
$ make run      # VisualBoyAdvance を使用しエミュレータで動作確認
```

## プログラムの使い方
プログラムが実行されると、「Press START key to start.」 と表示されます。
ここで、`START` ボタンを押すことでブロック崩しゲームが始まります。

飛んでいるボールをラケットを使って跳ね返しブロックに当てることでブロックを消していくことができ、全てのブロックを消すとゲームクリアとなります。
ブロックを全て消すと注ぎのステージに進むことができます。
ボールは2回まで地面に落とすことができ、3回ボールが地面に接触したらゲームオーバーとなります。

ゲームオーバーになった場合、`START`ボタンを押すことで初期画面に戻り、ゲームに再挑戦することができます。
ゲームをクリアした場合、`START`ボタンを押すとゲーム読み込み時と同じ初期画面に戻ります。

### ラケットの操作方法
* **十字キー左** : ラケットを左に移動させる
* **十字キー右** : ラケットを右に移動させる
ボールがラケットの左右の端に当たると跳ね返り方が変化します。

## 資料で説明した以外の技術
### デバッグプリント関数の導入
実機を使った動作確認ではデバッグを行う際に変数の値を確認することができず不便なため、 GAME BOY ADVANCE エミュレータの Logging 機能で利用可能なデバッグプリント関数を導入した。
